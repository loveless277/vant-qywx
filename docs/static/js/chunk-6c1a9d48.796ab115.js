(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6c1a9d48"],{"0f45":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-table",{class:{"tb-fixed":e.isfixed},staticStyle:{width:"100%"},attrs:{data:e.tableData}},[e._t("default")],2)},r=[],o={name:"FixTable",props:{tableData:{type:Array,required:!0},height:{type:String,required:!0}},data:function(){return{isfixed:!1}},mounted:function(){window.addEventListener("scroll",this.onScroll)},methods:{onScroll:function(){window.scrollY>=this.height?this.isfixed=!0:this.isfixed=!1}}},i=o,c=a("2877"),s=Object(c["a"])(i,n,r,!1,null,null,null);t["a"]=s.exports},"3ca7":function(e,t,a){"use strict";var n=a("c964"),r=a.n(n);r.a},"7d44":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"findEquipment"},[a("nav-bar",{attrs:{"title-name":"查找设备","back-path":"/index"}}),a("van-pull-refresh",{on:{refresh:e.onRefresh},model:{value:e.isLoading,callback:function(t){e.isLoading=t},expression:"isLoading"}},[a("div",{staticClass:"filterBox",staticStyle:{"background-color":"white"}},[a("van-search",{attrs:{placeholder:"请输入 设备编号/客户/状态/机房/机柜","show-action":""},on:{search:e.onSearch},model:{value:e.findStr,callback:function(t){e.findStr=t},expression:"findStr"}},[a("div",{attrs:{slot:"action"},on:{click:e.onSearch},slot:"action"},[a("van-button",{attrs:{type:"info",size:"small"}},[e._v("搜索")])],1)]),a("div",{staticClass:"moreSearch"},[a("van-dropdown-menu",{staticStyle:{border:"none",height:"35px","background-color":"#3385ff"},attrs:{"active-color":"white"}},[a("van-dropdown-item",{ref:"item",attrs:{title:"高级搜索"}},[a("van-search",{attrs:{placeholder:"按机房搜索",readonly:""},on:{click:function(t){return e.changePicker(1)}},model:{value:e.moreSearch.value1,callback:function(t){e.$set(e.moreSearch,"value1",t)},expression:"moreSearch.value1"}}),a("van-search",{attrs:{placeholder:"按所属客户搜索",readonly:""},on:{click:function(t){return e.changePicker(2)}},model:{value:e.moreSearch.value2,callback:function(t){e.$set(e.moreSearch,"value2",t)},expression:"moreSearch.value2"}}),a("van-search",{attrs:{placeholder:"按使用客户搜索",readonly:""},on:{click:function(t){return e.changePicker(3)}},model:{value:e.moreSearch.value3,callback:function(t){e.$set(e.moreSearch,"value3",t)},expression:"moreSearch.value3"}}),a("van-search",{attrs:{placeholder:"按状态搜索",readonly:""},on:{click:function(t){return e.changePicker(4)}},model:{value:e.moreSearch.value4,callback:function(t){e.$set(e.moreSearch,"value4",t)},expression:"moreSearch.value4"}}),a("van-search",{attrs:{placeholder:"按设备类型搜索",readonly:""},on:{click:function(t){return e.changePicker(5)}},model:{value:e.moreSearch.value5,callback:function(t){e.$set(e.moreSearch,"value5",t)},expression:"moreSearch.value5"}}),a("van-search",{attrs:{placeholder:"按使用类型搜索",readonly:""},on:{click:function(t){return e.changePicker(6)}},model:{value:e.moreSearch.value6,callback:function(t){e.$set(e.moreSearch,"value6",t)},expression:"moreSearch.value6"}}),a("van-search",{attrs:{placeholder:"按标签状态搜索",readonly:""},on:{click:function(t){return e.changePicker(7)}},model:{value:e.moreSearch.value7,callback:function(t){e.$set(e.moreSearch,"value7",t)},expression:"moreSearch.value7"}}),a("van-popup",{attrs:{position:"bottom"},model:{value:e.showPicker,callback:function(t){e.showPicker=t},expression:"showPicker"}},[a("van-picker",{attrs:{columns:e.columns,"show-toolbar":""},on:{cancel:function(t){e.showPicker=!1},confirm:e.onConfirm}})],1),a("div",{staticStyle:{display:"flex"}},[a("van-button",{staticStyle:{"border-right":"1px solid #fff"},attrs:{block:"",type:"info"},on:{click:e.onMoreSearch}},[e._v("确认")]),a("van-button",{staticStyle:{"border-left":"1px solid #fff"},attrs:{block:"",type:"info"},on:{click:e.clearOptions}},[e._v("清空")])],1)],1)],1)],1)],1),a("div",{staticClass:"countBar"},[a("div",[e._v("总数："),a("span",{staticStyle:{color:"#3388FF"}},[e._v(e._s(e.count[0])+"台")])]),a("div",[e._v("服务器："),a("span",{staticStyle:{color:"#3388FF"}},[e._v(e._s(e.count[1])+"台")])]),a("div",[e._v("网络设备："),a("span",{staticStyle:{color:"#3388FF"}},[e._v(e._s(e.count[2])+"台")])])]),a("van-list",{ref:"list",attrs:{finished:e.finished,"immediate-check":!1,"finished-text":"没有更多了"},on:{load:e.onLoad},model:{value:e.listloading,callback:function(t){e.listloading=t},expression:"listloading"}},[a("fix-table",{attrs:{"table-data":e.equipData,height:"140"}},[a("el-table-column",{attrs:{align:"center",prop:"sn",width:"90",label:"编号"}}),a("el-table-column",{attrs:{align:"center",width:"120",label:"机房/机柜/客户"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(e._s(t.row.cityname)+" / "+e._s(t.row.house)+" / "+e._s(t.row.floor)+"F"),a("br"),e._v(e._s(t.row.position))]),a("div",[e._v(e._s(t.row.customname))])]}}])}),a("el-table-column",{attrs:{align:"center",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.serverstatus?a("van-tag",{attrs:{type:"success"}},[e._v(e._s(t.row.serverstatusmsg))]):e._e(),2==t.row.serverstatus?a("van-tag",[e._v(e._s(t.row.serverstatusmsg))]):e._e(),3==t.row.serverstatus?a("van-tag",{attrs:{type:"danger"}},[e._v(e._s(t.row.serverstatusmsg))]):e._e(),0==t.row.serverstatus?a("van-tag",[e._v(e._s(t.row.serverstatusmsg))]):e._e(),0==t.row.printlabel?a("van-tag",[e._v("未打标签")]):e._e(),1==t.row.printlabel?a("van-tag",{attrs:{type:"success"}},[e._v("已打标签")]):e._e()]}}])}),a("el-table-column",{attrs:{align:"center",label:"操作"}},[a("router-link",{attrs:{to:"equipDetail"}},[a("van-button",{attrs:{type:"info",size:"small"}},[e._v("详情")])],1)],1)],1)],1)],1)],1)},r=[],o=(a("96cf"),a("3b8d")),i=a("0f45"),c=a("ad8f"),s={page:1,limit:10},l={components:{FixTable:i["a"]},data:function(){return{findStr:null,count:[2020,1034,986],equipData:[],showPicker:!1,columns:[],currentPick:null,moreSearch:{},isLoading:!1,listloading:!1,finished:!1,listQuery:{page:1,limit:10}}},created:function(){this.getlist()},methods:{getlist:function(){var e=this;Object(c["b"])(s).then((function(t){e.equipData=t.data.items,e.listQuery.page++}))},onLoad:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(c["b"])(this.listQuery).then((function(e){var a=t.equipData.concat(e.data.items);t.equipData=a,t.listloading=!1,0!==e.data.items.length?t.listQuery.page++:t.finished=!0}));case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),onRefresh:function(){var e=this;Object(c["b"])(s).then((function(t){e.$toast("刷新成功"),e.isLoading=!1,e.equipData=t.data.items,e.listQuery.page=1,e.listQuery.page++,e.finished=!1}))},onSearch:function(){},onMoreSearch:function(){this.$refs.item.toggle(),console.log(this.moreSearch)},clearOptions:function(){this.moreSearch={}},onConfirm:function(e){this.moreSearch[this.currentPick]=e,this.showPicker=!1},changePicker:function(e){this.showPicker=!0,1===e?(this.currentPick="value1",this.columns=["杭州","宁波","温州","嘉兴","湖州"]):2===e?(this.currentPick="value2",this.columns=["1","2","3"]):3===e?(this.currentPick="value3",this.columns=["4","5","6"]):4===e?(this.currentPick="value4",this.columns=["7","8","9"]):5===e?(this.currentPick="value5",this.columns=["10","11","12"]):6===e?(this.currentPick="value6",this.columns=["13","14","15"]):7===e&&(this.currentPick="value7",this.columns=["16","17","18"])}}},u=l,h=(a("3ca7"),a("2877")),d=Object(h["a"])(u,n,r,!1,null,null,null);t["default"]=d.exports},ad8f:function(e,t,a){"use strict";var n=a("bc3a"),r=a.n(n),o=a("d399"),i=a("2241"),c=r.a.create({baseURL:Object({NODE_ENV:"production",BASE_URL:"/vant-qywx/"}).VUE_APP_BASE_API,timeout:5e3});c.interceptors.request.use((function(e){return e}),(function(e){return console.log(e),Promise.reject(e)})),c.interceptors.response.use((function(e){var t=e.data;return 2e4!==t.code?(Object(o["a"])({message:t.message||"Error",type:"fail",duration:5e3}),50008!==t.code&&50012!==t.code&&50014!==t.code||i["a"].confirm("You have been logged out, you can cancel to stay on this page, or log in again","Confirm logout",{confirmButtonText:"Re-Login",cancelButtonText:"Cancel",type:"warning"}).then((function(){location.reload()})),Promise.reject(new Error(t.message||"Error"))):t}),(function(e){return console.log("err"+e),Object(o["a"])({message:e.message,type:"error",duration:5e3}),Promise.reject(e)}));var s=c;function l(e){return s({url:"/table/list",method:"get",params:e})}function u(e){return s({url:"/table/device",method:"get",params:e})}function h(e){return s({url:"/table/cabinet",method:"get",params:e})}function d(e){return s({url:"/table/log",method:"get",params:e})}a.d(t,"c",(function(){return l})),a.d(t,"b",(function(){return u})),a.d(t,"a",(function(){return h})),a.d(t,"d",(function(){return d}))},c964:function(e,t,a){}}]);
//# sourceMappingURL=chunk-6c1a9d48.796ab115.js.map