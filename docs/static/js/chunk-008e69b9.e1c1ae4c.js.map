{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es6.object.keys.js","webpack:///./node_modules/core-js/modules/_object-sap.js","webpack:///./src/modules/frame/view/testIndex.vue?f867","webpack:///src/modules/frame/view/testIndex.vue","webpack:///./src/modules/frame/view/testIndex.vue?832c","webpack:///./src/modules/frame/view/testIndex.vue","webpack:///./src/utils/mockReq.js","webpack:///./src/api/table.js"],"names":["toObject","$keys","it","$export","core","fails","module","exports","KEY","exec","fn","Object","exp","S","F","render","_vm","this","_h","$createElement","_c","_self","staticStyle","attrs","_v","ref","columns","on","onChange","onConfirm","staticRenderFns","initQuery","page","limit","data","chart","tableData","isLoading","loading","finished","listQuery","isfixed","computed","date","year","Date","getFullYear","season","obj","element","created","mounted","initCharts","window","addEventListener","onScroll","$on","removeEventListener","methods","$echarts","init","$refs","myChart","setOptions","setOption","tooltip","xAxis","yAxis","series","name","type","label","normal","show","position","onRefresh","scrollY","console","log","val","$toast","picker","setColumnValues","values","component","mockService","axios","create","baseURL","process","VUE_APP_BASE_API","timeout","interceptors","request","use","config","error","Promise","reject","response","res","code","Toast","message","duration","Dialog","confirm","confirmButtonText","cancelButtonText","then","location","reload","Error","getList","query","url","method","params","getDevice","getCabinet","getLog"],"mappings":"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","file":"static/js/chunk-008e69b9.e1c1ae4c.js","sourcesContent":["// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object');\nvar $keys = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function () {\n  return function keys(it) {\n    return $keys(toObject(it));\n  };\n});\n","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export');\nvar core = require('./_core');\nvar fails = require('./_fails');\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('svg-icon',{staticStyle:{\"color\":\"red\"},attrs:{\"icon-class\":\"user\"}}),_vm._v(\"test\\n  \"),_c('div',{ref:\"myChart\",staticStyle:{\"width\":\"100%\",\"height\":\"300px\"}}),_c('van-picker',{attrs:{\"columns\":_vm.columns,\"show-toolbar\":\"\"},on:{\"change\":_vm.onChange,\"confirm\":_vm.onConfirm}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <!-- 模块主页内容 -->\r\n    <!-- 页面可自行看情况添加文件或文件夹 -->\r\n    <!-- 这里页面内容只是用来测试相关插件 -->\r\n    <svg-icon icon-class=\"user\" style=\"color:red\"/>test\r\n    <div ref=\"myChart\" style=\"width:100%;height:300px;\"/>\r\n    <van-picker :columns=\"columns\" show-toolbar @change=\"onChange\" @confirm=\"onConfirm\"/>\r\n    <!-- <van-pull-refresh v-model=\"isLoading\" @refresh=\"onRefresh\">\r\n      <van-list\r\n        ref=\"list\"\r\n        v-model=\"loading\"\r\n        :finished=\"finished\"\r\n        :immediate-check=\"false\"\r\n        finished-text=\"没有更多了\"\r\n        @load=\"onLoad\"\r\n      >\r\n        <el-table\r\n          :data=\"tableData\"\r\n          :class=\"{'tb-fixed':isfixed}\"\r\n          style=\"width: 100%\"\r\n          fit>\r\n          <el-table-column\r\n            align=\"center\"\r\n            prop=\"date\"\r\n            label=\"日期\"/>\r\n          <el-table-column\r\n            align=\"center\"\r\n            prop=\"name\"\r\n            label=\"姓名\"/>\r\n          <el-table-column\r\n            align=\"center\"\r\n            prop=\"title\"\r\n            label=\"地址\"/>\r\n        </el-table>\r\n      </van-list>\r\n    </van-pull-refresh> -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nvar initQuery = {\r\n  page: 1,\r\n  limit: 10\r\n}\r\n\r\nimport { getList } from '@/api/table'\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      chart: null,\r\n      tableData: [],\r\n      isLoading: false,\r\n      loading: false,\r\n      finished: false,\r\n      listQuery: {\r\n        page: 1,\r\n        limit: 10\r\n      },\r\n      isfixed: false\r\n    }\r\n  },\r\n  computed: {\r\n    date() {\r\n      var year = new Date().getFullYear()\r\n      var season = ['请选择', '第一季度', '第二季度', '第三季度', '第四季度']\r\n      const yearArr = ['请选择', year, year - 1, year - 2, year - 3, year - 4]\r\n      const obj = {}\r\n      for (let i = 0, j = yearArr.length; i < j; i++) {\r\n        const element = yearArr[i]\r\n        obj[element] = season\r\n      }\r\n      return obj\r\n    },\r\n    columns() {\r\n      const column = this.date\r\n      return [\r\n        {\r\n          values: Object.keys(column).reverse(),\r\n          className: 'column1'\r\n        },\r\n        {\r\n          values: column[Object.keys(column)[0]],\r\n          className: 'column2',\r\n          defaultIndex: 0\r\n        }\r\n      ]\r\n    }\r\n  },\r\n  created() {\r\n    // console.log(this.wx)\r\n    getList(initQuery).then(res => {\r\n      this.tableData = res.data.items\r\n      this.listQuery.page++\r\n    })\r\n  },\r\n  mounted() {\r\n    this.initCharts()\r\n    window.addEventListener('scroll', this.onScroll)\r\n    this.$on('hook:destroyed', () => {\r\n      window.removeEventListener('scroll', this.onScroll)\r\n    })\r\n  },\r\n  methods: {\r\n    initCharts() {\r\n      this.chart = this.$echarts.init(this.$refs.myChart, 'macarons')\r\n      this.setOptions()\r\n    },\r\n    setOptions() {\r\n      this.chart.setOption({\r\n        tooltip: {},\r\n        xAxis: {\r\n          data: ['衬衫', '羊毛衫', '雪纺衫', '裤子', '高跟鞋', '袜子']\r\n        },\r\n        yAxis: {},\r\n        series: [{\r\n          name: '销量',\r\n          type: 'bar',\r\n          label: {\r\n            normal: {\r\n              show: true,\r\n              position: 'top'\r\n            }\r\n          },\r\n          data: [5, 20, 36, 10, 10, 20]\r\n        }]\r\n      })\r\n    },\r\n    // 下拉刷新\r\n    onRefresh() {\r\n      getList(initQuery).then((res) => {\r\n        this.$toast('刷新成功')\r\n        this.isLoading = false\r\n        this.tableData = res.data.items\r\n        this.listQuery.page = 1\r\n        this.listQuery.page++\r\n        this.finished = false\r\n      })\r\n      // setTimeout(() => {\r\n      // }, 500)\r\n    },\r\n    // 上拉加载\r\n    async onLoad() {\r\n      // 异步更新数据\r\n      await getList(this.listQuery).then(res => {\r\n        var result = this.tableData.concat(res.data.items)\r\n        this.tableData = result\r\n        this.loading = false\r\n        if (res.data.items.length !== 0) {\r\n          this.listQuery.page++\r\n        } else {\r\n          this.finished = true\r\n        }\r\n      })\r\n      // setTimeout(() => {\r\n      //   for (let i = 0; i < 5; i++) {\r\n      //     this.tableData.push({\r\n      //       date: this.tableData.length + '',\r\n      //       name: '王小虎',\r\n      //       address: '上海市普陀区金沙江路 1518 弄'\r\n      //     })\r\n      //   }\r\n      //   // 加载状态结束\r\n      //   this.loading = false\r\n\r\n      //   // 数据全部加载完成\r\n      //   if (this.tableData.length >= 80) {\r\n      //     this.finished = true\r\n      //   }\r\n      // }, 500)\r\n    },\r\n    onScroll() {\r\n      if (window.scrollY >= 300) {\r\n        this.isfixed = true\r\n      } else {\r\n        this.isfixed = false\r\n      }\r\n    },\r\n    onConfirm(val) {\r\n      console.log(val)\r\n      if (val[0] === '请选择') {\r\n        this.$toast('请选择年份')\r\n      }\r\n      if (val[1] === '请选择') {\r\n        this.$toast('请选择季度')\r\n      }\r\n      if (val[0] === val[1]) {\r\n        this.$toast('请选择年份和季度')\r\n      }\r\n    },\r\n    onChange(picker, values) {\r\n      picker.setColumnValues(1, this.date[values[0]])\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./testIndex.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./testIndex.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./testIndex.vue?vue&type=template&id=57e57438&\"\nimport script from \"./testIndex.vue?vue&type=script&lang=js&\"\nexport * from \"./testIndex.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import axios from 'axios'\r\nimport { Toast, Dialog } from 'vant'\r\n\r\n// create an axios instance\r\nconst mockService = axios.create({\r\n  baseURL: process.env.VUE_APP_BASE_API, // url = base url + request url\r\n  // withCredentials: true, // send cookies when cross-domain requests\r\n  timeout: 5000 // request timeout\r\n})\r\n\r\n// request interceptor\r\nmockService.interceptors.request.use(\r\n  config => {\r\n    // do something before request is sent\r\n\r\n    // if (store.getters.token) {\r\n    //   // let each request carry token\r\n    //   // ['X-Token'] is a custom headers key\r\n    //   // please modify it according to the actual situation\r\n    //   config.headers['X-Token'] = getToken()\r\n    // }\r\n    return config\r\n  },\r\n  error => {\r\n    // do something with request error\r\n    console.log(error) // for debug\r\n    return Promise.reject(error)\r\n  }\r\n)\r\n\r\n// response interceptor\r\nmockService.interceptors.response.use(\r\n  /**\r\n   * If you want to get http information such as headers or status\r\n   * Please return  response => response\r\n  */\r\n\r\n  /**\r\n   * Determine the request status by custom code\r\n   * Here is just an example\r\n   * You can also judge the status by HTTP Status Code\r\n   */\r\n  response => {\r\n    const res = response.data\r\n\r\n    // if the custom code is not 20000, it is judged as an error.\r\n    if (res.code !== 20000) {\r\n      Toast({\r\n        message: res.message || 'Error',\r\n        type: 'fail',\r\n        duration: 5 * 1000\r\n      })\r\n\r\n      // 50008: Illegal token; 50012: Other clients logged in; 50014: Token expired;\r\n      if (res.code === 50008 || res.code === 50012 || res.code === 50014) {\r\n        // to re-login\r\n        Dialog.confirm('You have been logged out, you can cancel to stay on this page, or log in again', 'Confirm logout', {\r\n          confirmButtonText: 'Re-Login',\r\n          cancelButtonText: 'Cancel',\r\n          type: 'warning'\r\n        }).then(() => {\r\n          location.reload()\r\n        })\r\n      }\r\n      return Promise.reject(new Error(res.message || 'Error'))\r\n    } else {\r\n      return res\r\n    }\r\n  },\r\n  error => {\r\n    console.log('err' + error) // for debug\r\n    Toast({\r\n      message: error.message,\r\n      type: 'error',\r\n      duration: 5 * 1000\r\n    })\r\n    return Promise.reject(error)\r\n  }\r\n)\r\n\r\nexport default mockService\r\n","import request from '@/utils/mockReq'\r\n\r\nexport function getList(query) {\r\n  return request({\r\n    url: '/table/list',\r\n    method: 'get',\r\n    params: query\r\n  })\r\n}\r\n\r\nexport function getDevice(query) {\r\n  return request({\r\n    url: '/table/device',\r\n    method: 'get',\r\n    params: query\r\n  })\r\n}\r\n\r\nexport function getCabinet(query) {\r\n  return request({\r\n    url: '/table/cabinet',\r\n    method: 'get',\r\n    params: query\r\n  })\r\n}\r\n\r\nexport function getLog(query) {\r\n  return request({\r\n    url: '/table/log',\r\n    method: 'get',\r\n    params: query\r\n  })\r\n}\r\n"],"sourceRoot":""}