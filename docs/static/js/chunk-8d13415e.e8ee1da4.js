(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8d13415e"],{"0f45":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-table",{class:{"tb-fixed":t.isfixed},staticStyle:{width:"100%"},attrs:{data:t.tableData}},[t._t("default")],2)},r=[],i={name:"FixTable",props:{tableData:{type:Array,required:!0},height:{type:String,required:!0}},data:function(){return{isfixed:!1}},mounted:function(){window.addEventListener("scroll",this.onScroll)},methods:{onScroll:function(){window.scrollY>=this.height?this.isfixed=!0:this.isfixed=!1}}},o=i,s=n("2877"),l=Object(s["a"])(o,a,r,!1,null,null,null);e["a"]=l.exports},"57f1":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"task-detail"},[n("nav-bar",{attrs:{"title-name":"盘点设备信息","back-path":"/myTask"}}),n("van-pull-refresh",{on:{refresh:t.onRefresh},model:{value:t.isLoading,callback:function(e){t.isLoading=e},expression:"isLoading"}},[n("van-list",{ref:"list",attrs:{finished:t.finished,"immediate-check":!1,"finished-text":"没有更多了"},on:{load:t.onLoad},model:{value:t.listloading,callback:function(e){t.listloading=e},expression:"listloading"}},[n("fix-table",{attrs:{"table-data":t.taskDetailData,height:"50"}},[n("el-table-column",{attrs:{align:"center",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("div",[t._v(t._s(e.row.cityname)+" / "+t._s(e.row.house)+" / "+t._s(e.row.floor)+"F")]),n("div",{staticStyle:{color:"#6F5CC2"}},[t._v(t._s(e.row.sn))])]}}])},[n("template",{slot:"header"},[n("span",[t._v("机房")]),n("br"),n("span",{staticStyle:{color:"#6F5CC2"}},[t._v("设备编码")])])],2),n("el-table-column",{attrs:{align:"center",prop:"position",label:"机柜"}}),n("el-table-column",{attrs:{align:"center",prop:"rackid",label:"机架号",width:"60"}}),n("el-table-column",{attrs:{align:"center",label:"状态",width:"60"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("van-icon",{attrs:{name:t._f("statusFilter")(e.row.serverstatus),color:t._f("statusColorFilter")(e.row.serverstatus),size:"20"}})]}}])})],1)],1)],1)],1)},r=[],i=(n("96cf"),n("3b8d")),o=n("0f45"),s=n("ad8f"),l={page:1,limit:10},c={components:{FixTable:o["a"]},filters:{statusFilter:function(t){var e={2:"passed",1:"close"};return e[t]},statusColorFilter:function(t){var e={2:"#60D87C",1:"#ffa39e"};return e[t]}},data:function(){return{taskDetailData:[],isLoading:!1,listloading:!1,finished:!1,listQuery:{page:1,limit:10}}},created:function(){this.getlist()},methods:{getlist:function(){var t=this;Object(s["b"])(l).then((function(e){t.taskDetailData=e.data.items,t.listQuery.page++}))},onLoad:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["b"])(this.listQuery).then((function(t){var n=e.taskDetailData.concat(t.data.items);e.taskDetailData=n,e.listloading=!1,0!==t.data.items.length?e.listQuery.page++:e.finished=!0}));case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),onRefresh:function(){var t=this;Object(s["b"])(l).then((function(e){t.$toast("刷新成功"),t.isLoading=!1,t.taskDetailData=e.data.items,t.listQuery.page=1,t.listQuery.page++,t.finished=!1}))}}},u=c,d=n("2877"),f=Object(d["a"])(u,a,r,!1,null,null,null);e["default"]=f.exports},ad8f:function(t,e,n){"use strict";var a=n("bc3a"),r=n.n(a),i=n("d399"),o=n("2241"),s=r.a.create({baseURL:Object({NODE_ENV:"production",BASE_URL:"/vant-qywx/"}).VUE_APP_BASE_API,timeout:5e3});s.interceptors.request.use((function(t){return t}),(function(t){return console.log(t),Promise.reject(t)})),s.interceptors.response.use((function(t){var e=t.data;return 2e4!==e.code?(Object(i["a"])({message:e.message||"Error",type:"fail",duration:5e3}),50008!==e.code&&50012!==e.code&&50014!==e.code||o["a"].confirm("You have been logged out, you can cancel to stay on this page, or log in again","Confirm logout",{confirmButtonText:"Re-Login",cancelButtonText:"Cancel",type:"warning"}).then((function(){location.reload()})),Promise.reject(new Error(e.message||"Error"))):e}),(function(t){return console.log("err"+t),Object(i["a"])({message:t.message,type:"error",duration:5e3}),Promise.reject(t)}));var l=s;function c(t){return l({url:"/table/list",method:"get",params:t})}function u(t){return l({url:"/table/device",method:"get",params:t})}function d(t){return l({url:"/table/cabinet",method:"get",params:t})}function f(t){return l({url:"/table/log",method:"get",params:t})}n.d(e,"c",(function(){return c})),n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return d})),n.d(e,"d",(function(){return f}))}}]);
//# sourceMappingURL=chunk-8d13415e.e8ee1da4.js.map