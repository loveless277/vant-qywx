{"version":3,"sources":["webpack:///./src/components/FixTable/index.vue?f95f","webpack:///src/components/FixTable/index.vue","webpack:///./src/components/FixTable/index.vue?f01a","webpack:///./src/components/FixTable/index.vue","webpack:///./src/modules/frame/view/findEquip/equipDetail.vue?f897","webpack:///./src/utils/mockReq.js","webpack:///./src/api/table.js","webpack:///./src/modules/frame/view/findEquip/equipDetail.vue?d3ac","webpack:///src/modules/frame/view/findEquip/equipDetail.vue","webpack:///./src/modules/frame/view/findEquip/equipDetail.vue?a9cb","webpack:///./src/modules/frame/view/findEquip/equipDetail.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","class","isfixed","staticStyle","attrs","tableData","_t","staticRenderFns","name","props","type","Array","required","height","String","data","mounted","window","addEventListener","onScroll","methods","scrollY","component","mockService","axios","create","baseURL","process","VUE_APP_BASE_API","timeout","interceptors","request","use","config","error","console","log","Promise","reject","response","res","code","Toast","message","duration","Dialog","confirm","confirmButtonText","cancelButtonText","then","location","reload","Error","getList","query","url","method","params","getDevice","getCabinet","getLog","staticClass","model","value","callback","$$v","activeName","expression","form","server_id","sn","customname","serverstatusmsg","cityname","house","floor","position","rackid","memo","brand","size","spec","os","plugnum","customsn","_f","printlabel","_v","usecustom","purpose","person_name","person_tel","person_idcode","person2_name","person2_tel","person2_idcode","on","onRefresh","isLoading","ref","finished","onLoad","listloading","logData","scopedSlots","_u","key","fn","scope","_s","row","domemo","dotime","slot","initQuery","page","limit","components","FixTable","filters","printStatusFilter","statusMap","status","listQuery","watch","$router","push","val","getLogList"],"mappings":"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","file":"static/js/chunk-f3ec532c.a3009b55.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-table',{class:{'tb-fixed':_vm.isfixed},staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData}},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <el-table\r\n    :data=\"tableData\"\r\n    :class=\"{'tb-fixed':isfixed}\"\r\n    style=\"width: 100%\">\r\n    <!-- :size=\"size\" -->\r\n    <slot/>\r\n  </el-table>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n  name: 'FixTable',\r\n  props: {\r\n    tableData: {\r\n      type: Array,\r\n      required: true\r\n    },\r\n    height: {\r\n      type: String,\r\n      required: true\r\n    }\r\n    // size: {\r\n    //   type: String,\r\n    //   default: 'small'\r\n    // }\r\n  },\r\n  data() {\r\n    return {\r\n      isfixed: false\r\n    }\r\n  },\r\n  mounted() {\r\n    window.addEventListener('scroll', this.onScroll)\r\n  },\r\n  methods: {\r\n    onScroll() {\r\n      if (window.scrollY >= this.height) {\r\n        this.isfixed = true\r\n      } else {\r\n        this.isfixed = false\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=2172ed4e&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./equipDetail.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./equipDetail.vue?vue&type=style&index=0&lang=scss&\"","import axios from 'axios'\r\nimport { Toast, Dialog } from 'vant'\r\n\r\n// create an axios instance\r\nconst mockService = axios.create({\r\n  baseURL: process.env.VUE_APP_BASE_API, // url = base url + request url\r\n  // withCredentials: true, // send cookies when cross-domain requests\r\n  timeout: 5000 // request timeout\r\n})\r\n\r\n// request interceptor\r\nmockService.interceptors.request.use(\r\n  config => {\r\n    // do something before request is sent\r\n\r\n    // if (store.getters.token) {\r\n    //   // let each request carry token\r\n    //   // ['X-Token'] is a custom headers key\r\n    //   // please modify it according to the actual situation\r\n    //   config.headers['X-Token'] = getToken()\r\n    // }\r\n    return config\r\n  },\r\n  error => {\r\n    // do something with request error\r\n    console.log(error) // for debug\r\n    return Promise.reject(error)\r\n  }\r\n)\r\n\r\n// response interceptor\r\nmockService.interceptors.response.use(\r\n  /**\r\n   * If you want to get http information such as headers or status\r\n   * Please return  response => response\r\n  */\r\n\r\n  /**\r\n   * Determine the request status by custom code\r\n   * Here is just an example\r\n   * You can also judge the status by HTTP Status Code\r\n   */\r\n  response => {\r\n    const res = response.data\r\n\r\n    // if the custom code is not 20000, it is judged as an error.\r\n    if (res.code !== 20000) {\r\n      Toast({\r\n        message: res.message || 'Error',\r\n        type: 'fail',\r\n        duration: 5 * 1000\r\n      })\r\n\r\n      // 50008: Illegal token; 50012: Other clients logged in; 50014: Token expired;\r\n      if (res.code === 50008 || res.code === 50012 || res.code === 50014) {\r\n        // to re-login\r\n        Dialog.confirm('You have been logged out, you can cancel to stay on this page, or log in again', 'Confirm logout', {\r\n          confirmButtonText: 'Re-Login',\r\n          cancelButtonText: 'Cancel',\r\n          type: 'warning'\r\n        }).then(() => {\r\n          location.reload()\r\n        })\r\n      }\r\n      return Promise.reject(new Error(res.message || 'Error'))\r\n    } else {\r\n      return res\r\n    }\r\n  },\r\n  error => {\r\n    console.log('err' + error) // for debug\r\n    Toast({\r\n      message: error.message,\r\n      type: 'error',\r\n      duration: 5 * 1000\r\n    })\r\n    return Promise.reject(error)\r\n  }\r\n)\r\n\r\nexport default mockService\r\n","import request from '@/utils/mockReq'\r\n\r\nexport function getList(query) {\r\n  return request({\r\n    url: '/table/list',\r\n    method: 'get',\r\n    params: query\r\n  })\r\n}\r\n\r\nexport function getDevice(query) {\r\n  return request({\r\n    url: '/table/device',\r\n    method: 'get',\r\n    params: query\r\n  })\r\n}\r\n\r\nexport function getCabinet(query) {\r\n  return request({\r\n    url: '/table/cabinet',\r\n    method: 'get',\r\n    params: query\r\n  })\r\n}\r\n\r\nexport function getLog(query) {\r\n  return request({\r\n    url: '/table/log',\r\n    method: 'get',\r\n    params: query\r\n  })\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"equipDetail\"},[_c('nav-bar',{attrs:{\"title-name\":\"设备详情\",\"back-path\":\"/findEquip\"}}),_c('van-tabs',{staticStyle:{\"margin-top\":\"10px\"},attrs:{\"color\":\"#3388FF\"},model:{value:(_vm.activeName),callback:function ($$v) {_vm.activeName=$$v},expression:\"activeName\"}},[_c('van-tab',{staticClass:\"info-block\",attrs:{\"title\":\"设备信息\",\"name\":\"info\"}},[_c('van-cell-group',[_c('van-field',{attrs:{\"value\":_vm.form.server_id,\"label\":\"ID\",\"disabled\":\"\",\"label-align\":\"right\",\"label-width\":\"120\"}}),_c('van-field',{attrs:{\"value\":_vm.form.sn,\"label\":\"设备编号\",\"disabled\":\"\",\"label-align\":\"right\",\"label-width\":\"120\"}}),_c('van-field',{attrs:{\"value\":_vm.form.customname,\"label\":\"客户\",\"disabled\":\"\",\"label-align\":\"right\",\"label-width\":\"120\"}}),_c('van-field',{attrs:{\"value\":_vm.form.serverstatusmsg,\"label\":\"状态\",\"disabled\":\"\",\"label-align\":\"right\",\"label-width\":\"120\"}}),_c('van-field',{attrs:{\"value\":_vm.form.cityname+' / '+_vm.form.house+' / '+_vm.form.floor+'F',\"label\":\"机房\",\"disabled\":\"\",\"label-align\":\"right\",\"label-width\":\"120\"}}),_c('van-field',{attrs:{\"value\":_vm.form.position,\"label\":\"机柜\",\"disabled\":\"\",\"label-align\":\"right\",\"label-width\":\"120\"}}),_c('van-field',{attrs:{\"value\":_vm.form.rackid,\"label\":\"机架\",\"disabled\":\"\",\"label-align\":\"right\",\"label-width\":\"120\"}}),_c('van-field',{attrs:{\"value\":_vm.form.rackid,\"label\":\"刻度\",\"disabled\":\"\",\"label-align\":\"right\",\"label-width\":\"120\"}}),_c('van-field',{attrs:{\"value\":_vm.form.memo,\"label\":\"备注\",\"disabled\":\"\",\"label-align\":\"right\",\"label-width\":\"120\"}}),_c('van-field',{attrs:{\"value\":_vm.form.rackid,\"label\":\"设备类型\",\"disabled\":\"\",\"label-align\":\"right\",\"label-width\":\"120\"}}),_c('van-field',{attrs:{\"value\":_vm.form.brand,\"label\":\"品牌\",\"disabled\":\"\",\"label-align\":\"right\",\"label-width\":\"120\"}}),_c('van-field',{attrs:{\"value\":_vm.form.size,\"label\":\"(大小)U数\",\"disabled\":\"\",\"label-align\":\"right\",\"label-width\":\"120\"}}),_c('van-field',{attrs:{\"value\":_vm.form.spec,\"label\":\"规格\",\"disabled\":\"\",\"label-align\":\"right\",\"label-width\":\"120\"}}),_c('van-field',{attrs:{\"value\":_vm.form.os,\"label\":\"操作系统\",\"disabled\":\"\",\"label-align\":\"right\",\"label-width\":\"120\"}}),_c('van-field',{attrs:{\"value\":_vm.form.plugnum,\"label\":\"电插数\",\"disabled\":\"\",\"label-align\":\"right\",\"label-width\":\"120\"}}),_c('van-field',{attrs:{\"value\":_vm.form.customsn,\"label\":\"资产编号\",\"disabled\":\"\",\"label-align\":\"right\",\"label-width\":\"120\"}}),_c('van-field',{attrs:{\"value\":_vm._f(\"printStatusFilter\")(_vm.form.printlabel),\"label\":\"已打标签?\",\"disabled\":\"\",\"label-align\":\"right\",\"label-width\":\"120\"}})],1),_c('div',{staticClass:\"split-bar\"},[_vm._v(\"业务信息\")]),_c('van-cell-group',[_c('van-field',{attrs:{\"value\":_vm.form.customname,\"label\":\"所属客户\",\"disabled\":\"\",\"label-align\":\"right\",\"label-width\":\"120\"}}),_c('van-field',{attrs:{\"value\":_vm.form.usecustom,\"label\":\"使用客户\",\"disabled\":\"\",\"label-align\":\"right\",\"label-width\":\"120\"}}),_c('van-field',{attrs:{\"value\":_vm.form.rackid,\"label\":\"使用类型\",\"disabled\":\"\",\"label-align\":\"right\",\"label-width\":\"120\"}}),_c('van-field',{attrs:{\"value\":_vm.form.purpose,\"label\":\"用途\",\"disabled\":\"\",\"label-align\":\"right\",\"label-width\":\"120\"}})],1),_c('div',{staticClass:\"split-bar\"},[_vm._v(\"负责人信息\")]),_c('van-cell-group',[_c('van-field',{attrs:{\"value\":_vm.form.person_name,\"label\":\"第一负责人\",\"disabled\":\"\",\"label-align\":\"right\",\"label-width\":\"120\"}}),_c('van-field',{attrs:{\"value\":_vm.form.person_tel,\"label\":\"第一负责人电话\",\"disabled\":\"\",\"label-align\":\"right\",\"label-width\":\"120\"}}),_c('van-field',{attrs:{\"value\":_vm.form.person_idcode,\"label\":\"第一负责人身份证\",\"disabled\":\"\",\"label-align\":\"right\",\"label-width\":\"120\"}}),_c('van-field',{attrs:{\"value\":_vm.form.person2_name,\"label\":\"第二负责人\",\"disabled\":\"\",\"label-align\":\"right\",\"label-width\":\"120\"}}),_c('van-field',{attrs:{\"value\":_vm.form.person2_tel,\"label\":\"第二负责人电话\",\"disabled\":\"\",\"label-align\":\"right\",\"label-width\":\"120\"}}),_c('van-field',{attrs:{\"value\":_vm.form.person2_idcode,\"label\":\"第二负责人身份证\",\"disabled\":\"\",\"label-align\":\"right\",\"label-width\":\"120\"}}),_c('van-field',{attrs:{\"value\":_vm.form.memo,\"label\":\"备注\",\"disabled\":\"\",\"label-align\":\"right\",\"label-width\":\"120\"}})],1)],1),_c('van-tab',{attrs:{\"title\":\"设备日志\",\"name\":\"log\"}},[_c('van-pull-refresh',{on:{\"refresh\":_vm.onRefresh},model:{value:(_vm.isLoading),callback:function ($$v) {_vm.isLoading=$$v},expression:\"isLoading\"}},[_c('van-list',{ref:\"list\",attrs:{\"finished\":_vm.finished,\"immediate-check\":false,\"finished-text\":\"没有更多了\"},on:{\"load\":_vm.onLoad},model:{value:(_vm.listloading),callback:function ($$v) {_vm.listloading=$$v},expression:\"listloading\"}},[_c('fix-table',{attrs:{\"table-data\":_vm.logData,\"height\":'100'}},[_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"statusmsg\",\"label\":\"状态\"}}),_c('el-table-column',{attrs:{\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_vm._v(_vm._s(scope.row.domemo))]),_c('div',[_vm._v(_vm._s(scope.row.dotime))])]}}])},[_c('template',{slot:\"header\"},[_c('span',[_vm._v(\"内容/\")]),_c('br'),_c('span',[_vm._v(\"发生时间\")])])],2),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"frameid\",\"label\":\"机房\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"rackid\",\"label\":\"机架\"}})],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"equipDetail\">\r\n    <nav-bar title-name=\"设备详情\" back-path=\"/findEquip\"/>\r\n    <van-tabs v-model=\"activeName\" color=\"#3388FF\" style=\"margin-top:10px;\" >\r\n      <van-tab title=\"设备信息\" name=\"info\" class=\"info-block\">\r\n        <van-cell-group >\r\n          <van-field :value=\"form.server_id\" label=\"ID\" disabled label-align=\"right\" label-width=\"120\"/>\r\n          <van-field :value=\"form.sn\" label=\"设备编号\" disabled label-align=\"right\" label-width=\"120\"/>\r\n          <van-field :value=\"form.customname\" label=\"客户\" disabled label-align=\"right\" label-width=\"120\"/>\r\n          <van-field :value=\"form.serverstatusmsg\" label=\"状态\" disabled label-align=\"right\" label-width=\"120\"/>\r\n          <van-field :value=\"form.cityname+' / '+form.house+' / '+form.floor+'F'\" label=\"机房\" disabled label-align=\"right\" label-width=\"120\"/>\r\n          <van-field :value=\"form.position\" label=\"机柜\" disabled label-align=\"right\" label-width=\"120\"/>\r\n          <van-field :value=\"form.rackid\" label=\"机架\" disabled label-align=\"right\" label-width=\"120\"/>\r\n          <van-field :value=\"form.rackid\" label=\"刻度\" disabled label-align=\"right\" label-width=\"120\"/>\r\n          <van-field :value=\"form.memo\" label=\"备注\" disabled label-align=\"right\" label-width=\"120\"/>\r\n          <van-field :value=\"form.rackid\" label=\"设备类型\" disabled label-align=\"right\" label-width=\"120\"/>\r\n          <van-field :value=\"form.brand\" label=\"品牌\" disabled label-align=\"right\" label-width=\"120\"/>\r\n          <van-field :value=\"form.size\" label=\"(大小)U数\" disabled label-align=\"right\" label-width=\"120\"/>\r\n          <van-field :value=\"form.spec\" label=\"规格\" disabled label-align=\"right\" label-width=\"120\"/>\r\n          <van-field :value=\"form.os\" label=\"操作系统\" disabled label-align=\"right\" label-width=\"120\"/>\r\n          <van-field :value=\"form.plugnum\" label=\"电插数\" disabled label-align=\"right\" label-width=\"120\"/>\r\n          <van-field :value=\"form.customsn\" label=\"资产编号\" disabled label-align=\"right\" label-width=\"120\"/>\r\n          <van-field :value=\"form.printlabel | printStatusFilter\" label=\"已打标签?\" disabled label-align=\"right\" label-width=\"120\"/>\r\n        </van-cell-group>\r\n        <div class=\"split-bar\">业务信息</div>\r\n        <van-cell-group>\r\n          <van-field :value=\"form.customname\" label=\"所属客户\" disabled label-align=\"right\" label-width=\"120\"/>\r\n          <van-field :value=\"form.usecustom\" label=\"使用客户\" disabled label-align=\"right\" label-width=\"120\"/>\r\n          <van-field :value=\"form.rackid\" label=\"使用类型\" disabled label-align=\"right\" label-width=\"120\"/>\r\n          <van-field :value=\"form.purpose\" label=\"用途\" disabled label-align=\"right\" label-width=\"120\"/>\r\n        </van-cell-group>\r\n        <div class=\"split-bar\">负责人信息</div>\r\n        <van-cell-group>\r\n          <van-field :value=\"form.person_name\" label=\"第一负责人\" disabled label-align=\"right\" label-width=\"120\"/>\r\n          <van-field :value=\"form.person_tel\" label=\"第一负责人电话\" disabled label-align=\"right\" label-width=\"120\"/>\r\n          <van-field :value=\"form.person_idcode\" label=\"第一负责人身份证\" disabled label-align=\"right\" label-width=\"120\"/>\r\n          <van-field :value=\"form.person2_name\" label=\"第二负责人\" disabled label-align=\"right\" label-width=\"120\"/>\r\n          <van-field :value=\"form.person2_tel\" label=\"第二负责人电话\" disabled label-align=\"right\" label-width=\"120\"/>\r\n          <van-field :value=\"form.person2_idcode\" label=\"第二负责人身份证\" disabled label-align=\"right\" label-width=\"120\"/>\r\n          <van-field :value=\"form.memo\" label=\"备注\" disabled label-align=\"right\" label-width=\"120\"/>\r\n        </van-cell-group>\r\n      </van-tab>\r\n      <van-tab title=\"设备日志\" name=\"log\">\r\n        <van-pull-refresh v-model=\"isLoading\" @refresh=\"onRefresh\">\r\n          <van-list\r\n            ref=\"list\"\r\n            v-model=\"listloading\"\r\n            :finished=\"finished\"\r\n            :immediate-check=\"false\"\r\n            finished-text=\"没有更多了\"\r\n            @load=\"onLoad\"\r\n          >\r\n            <fix-table :table-data=\"logData\" :height=\"'100'\">\r\n\r\n              <el-table-column\r\n                align=\"center\"\r\n                prop=\"statusmsg\"\r\n                label=\"状态\"/>\r\n\r\n              <el-table-column\r\n                align=\"center\">\r\n                <template slot=\"header\">\r\n                  <span>内容/</span><br>\r\n                  <span>发生时间</span>\r\n                </template>\r\n                <template slot-scope=\"scope\">\r\n                  <div>{{ scope.row.domemo }}</div>\r\n                  <div>{{ scope.row.dotime }}</div>\r\n                </template>\r\n              </el-table-column>\r\n\r\n              <el-table-column\r\n                align=\"center\"\r\n                prop=\"frameid\"\r\n                label=\"机房\"/>\r\n\r\n              <el-table-column\r\n                align=\"center\"\r\n                prop=\"rackid\"\r\n                label=\"机架\"/>\r\n            </fix-table>\r\n          </van-list>\r\n        </van-pull-refresh>\r\n      </van-tab>\r\n    </van-tabs>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport FixTable from '@/components/FixTable'\r\nimport { getLog } from '@/api/table'\r\n\r\nvar initQuery = {\r\n  page: 1,\r\n  limit: 10\r\n}\r\n\r\nexport default {\r\n  components: {\r\n    FixTable\r\n  },\r\n  filters: {\r\n    printStatusFilter(status) {\r\n      const statusMap = {\r\n        '0': '未打标签',\r\n        '1': '已打标签'\r\n      }\r\n      return statusMap[status]\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      activeName: 'info',\r\n      form: {\r\n        'server_id': '3309',\r\n        'sn': '13VQ43X',\r\n        'cityname': '江门',\r\n        'serverstatusmsg': '停机',\r\n        'house': '联通',\r\n        'floor': '3',\r\n        'position': 'IDC-27',\r\n        'rackid': '12',\r\n        'devicetype': '1',\r\n        'brand': 'DELL R510',\r\n        'size': '2',\r\n        'spec': '300G/SAS+300G/SSD*2+2T/HDD*9',\r\n        'os': '',\r\n        'plugnum': '1',\r\n        'customsn': '',\r\n        'printlabel': '0',\r\n        'customname': '白山',\r\n        'usecustom': '白山',\r\n        'servertype': '1',\r\n        'purpose': 'CDN视频和网站',\r\n        'person_name': '',\r\n        'person_tel': '',\r\n        'person_idcode': '',\r\n        'person2_name': '',\r\n        'person2_tel': '',\r\n        'person2_idcode': '',\r\n        'memo': ''\r\n      },\r\n      logData: [],\r\n      isLoading: false,\r\n      listloading: false,\r\n      finished: false,\r\n      listQuery: {\r\n        page: 1,\r\n        limit: 10\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    activeName(val) {\r\n      this.$router.push(`${this.$route.path}?tab=${val}`)\r\n      if (val === 'log') {\r\n        getLog(initQuery).then((res) => {\r\n          this.isLoading = false\r\n          this.logData = res.data.items\r\n          this.listQuery.page = 1\r\n          this.listQuery.page++\r\n          this.finished = false\r\n        })\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    getLogList() {\r\n      getLog(initQuery).then(res => {\r\n        this.logData = res.data.items\r\n        this.listQuery.page++\r\n      })\r\n    },\r\n    async onLoad() {\r\n      await getLog(this.listQuery).then(res => {\r\n        var result = this.logData.concat(res.data.items)\r\n        this.logData = result\r\n        this.listloading = false\r\n        if (res.data.items.length !== 0) {\r\n          this.listQuery.page++\r\n        } else {\r\n          this.finished = true\r\n        }\r\n      })\r\n    },\r\n    onRefresh() {\r\n      getLog(initQuery).then((res) => {\r\n        this.$toast('刷新成功')\r\n        this.isLoading = false\r\n        this.logData = res.data.items\r\n        this.listQuery.page = 1\r\n        this.listQuery.page++\r\n        this.finished = false\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.equipDetail{\r\n  .split-bar{\r\n    background-color: #EAEDF5;\r\n    text-align: center;\r\n    width: 100%;\r\n    height: 36px;\r\n    line-height: 36px;\r\n  }\r\n  .info-block{\r\n    .van-cell__title{\r\n      margin-right: 20px;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./equipDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./equipDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./equipDetail.vue?vue&type=template&id=e9a768cc&\"\nimport script from \"./equipDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./equipDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./equipDetail.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}