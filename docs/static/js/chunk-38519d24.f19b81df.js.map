{"version":3,"sources":["webpack:///./src/components/FixTable/index.vue?f95f","webpack:///src/components/FixTable/index.vue","webpack:///./src/components/FixTable/index.vue?f01a","webpack:///./src/components/FixTable/index.vue","webpack:///./src/modules/frame/view/findCabinet/index.vue?0251","webpack:///src/modules/frame/view/findCabinet/index.vue","webpack:///./src/modules/frame/view/findCabinet/index.vue?6c4d","webpack:///./src/modules/frame/view/findCabinet/index.vue","webpack:///./src/utils/mockReq.js","webpack:///./src/api/table.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","class","isfixed","staticStyle","attrs","tableData","_t","staticRenderFns","name","props","type","Array","required","height","String","data","mounted","window","addEventListener","onScroll","methods","scrollY","component","staticClass","on","onRefresh","model","value","callback","$$v","isLoading","expression","$event","cabinetVal","showPicker","columns","onConfirm","onSearch","findStr","slot","_v","ref","finished","onLoad","listloading","cabinetData","scopedSlots","_u","key","fn","scope","_s","row","useDimensionSizePercent","initQuery","page","limit","components","FixTable","listQuery","created","getlist","mockService","axios","create","baseURL","process","VUE_APP_BASE_API","timeout","interceptors","request","use","config","error","console","log","Promise","reject","response","res","code","Toast","message","duration","Dialog","confirm","confirmButtonText","cancelButtonText","then","location","reload","Error","getList","query","url","method","params","getDevice","getCabinet","getLog"],"mappings":"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","file":"static/js/chunk-38519d24.f19b81df.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-table',{class:{'tb-fixed':_vm.isfixed},staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData}},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <el-table\r\n    :data=\"tableData\"\r\n    :class=\"{'tb-fixed':isfixed}\"\r\n    style=\"width: 100%\">\r\n    <!-- :size=\"size\" -->\r\n    <slot/>\r\n  </el-table>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n  name: 'FixTable',\r\n  props: {\r\n    tableData: {\r\n      type: Array,\r\n      required: true\r\n    },\r\n    height: {\r\n      type: String,\r\n      required: true\r\n    }\r\n    // size: {\r\n    //   type: String,\r\n    //   default: 'small'\r\n    // }\r\n  },\r\n  data() {\r\n    return {\r\n      isfixed: false\r\n    }\r\n  },\r\n  mounted() {\r\n    window.addEventListener('scroll', this.onScroll)\r\n  },\r\n  methods: {\r\n    onScroll() {\r\n      if (window.scrollY >= this.height) {\r\n        this.isfixed = true\r\n      } else {\r\n        this.isfixed = false\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=2172ed4e&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"findCabinet\"},[_c('nav-bar',{attrs:{\"title-name\":\"查找机柜\",\"back-path\":\"/index\"}}),_c('van-pull-refresh',{on:{\"refresh\":_vm.onRefresh},model:{value:(_vm.isLoading),callback:function ($$v) {_vm.isLoading=$$v},expression:\"isLoading\"}},[_c('div',{staticClass:\"filterBox\",staticStyle:{\"margin-bottom\":\"10px\"}},[_c('van-search',{attrs:{\"placeholder\":\"选择机房\"},on:{\"click\":function($event){_vm.cabinetVal==''?_vm.showPicker = true:_vm.showPicker = false}},model:{value:(_vm.cabinetVal),callback:function ($$v) {_vm.cabinetVal=$$v},expression:\"cabinetVal\"}}),_c('van-popup',{attrs:{\"position\":\"bottom\"},model:{value:(_vm.showPicker),callback:function ($$v) {_vm.showPicker=$$v},expression:\"showPicker\"}},[_c('van-picker',{attrs:{\"columns\":_vm.columns,\"show-toolbar\":\"\",\"title\":\"选择机房\"},on:{\"cancel\":function($event){_vm.showPicker = false},\"confirm\":_vm.onConfirm}})],1),_c('van-search',{attrs:{\"placeholder\":\"请输入 机柜编号/地区/刻度使用率\",\"show-action\":\"\"},on:{\"search\":_vm.onSearch},model:{value:(_vm.findStr),callback:function ($$v) {_vm.findStr=$$v},expression:\"findStr\"}},[_c('div',{attrs:{\"slot\":\"action\"},on:{\"click\":_vm.onSearch},slot:\"action\"},[_c('van-button',{attrs:{\"type\":\"info\",\"size\":\"small\"}},[_vm._v(\"搜索\")])],1)])],1),_c('van-list',{ref:\"list\",attrs:{\"finished\":_vm.finished,\"immediate-check\":false,\"finished-text\":\"没有更多了\"},on:{\"load\":_vm.onLoad},model:{value:(_vm.listloading),callback:function ($$v) {_vm.listloading=$$v},expression:\"listloading\"}},[_c('fix-table',{attrs:{\"table-data\":_vm.cabinetData,\"height\":'120'}},[_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"cityname\",\"label\":\"地区\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"position\",\"label\":\"机柜编号\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"useDimensionSizePercent\",\"label\":\"刻度使用率\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n            \"+_vm._s(scope.row.useDimensionSizePercent)+\"%\\n          \")]}}])}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"操作\"}},[_c('router-link',{attrs:{\"to\":\"cabinetDetail\"}},[_c('van-button',{attrs:{\"type\":\"info\",\"size\":\"small\"}},[_vm._v(\"详情\")])],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"findCabinet\">\r\n    <nav-bar title-name=\"查找机柜\" back-path=\"/index\"/>\r\n    <van-pull-refresh v-model=\"isLoading\" @refresh=\"onRefresh\">\r\n      <div class=\"filterBox\" style=\"margin-bottom:10px;\">\r\n        <van-search v-model=\"cabinetVal\" placeholder=\"选择机房\" @click=\"cabinetVal==''?showPicker = true:showPicker = false\"/>\r\n        <van-popup v-model=\"showPicker\" position=\"bottom\">\r\n          <van-picker\r\n            :columns=\"columns\"\r\n            show-toolbar\r\n            title=\"选择机房\"\r\n            @cancel=\"showPicker = false\"\r\n            @confirm=\"onConfirm\"\r\n          />\r\n        </van-popup>\r\n        <van-search\r\n          v-model=\"findStr\"\r\n          placeholder=\"请输入 机柜编号/地区/刻度使用率\"\r\n          show-action\r\n          @search=\"onSearch\"\r\n        >\r\n          <div slot=\"action\" @click=\"onSearch\"><van-button type=\"info\" size=\"small\">搜索</van-button></div>\r\n        </van-search>\r\n      </div>\r\n      <van-list\r\n        ref=\"list\"\r\n        v-model=\"listloading\"\r\n        :finished=\"finished\"\r\n        :immediate-check=\"false\"\r\n        finished-text=\"没有更多了\"\r\n        @load=\"onLoad\"\r\n      >\r\n        <fix-table :table-data=\"cabinetData\" :height=\"'120'\">\r\n          <el-table-column\r\n            align=\"center\"\r\n            prop=\"cityname\"\r\n            label=\"地区\"/>\r\n          <el-table-column\r\n            align=\"center\"\r\n            prop=\"position\"\r\n            label=\"机柜编号\"/>\r\n          <el-table-column\r\n            align=\"center\"\r\n            prop=\"useDimensionSizePercent\"\r\n            label=\"刻度使用率\">\r\n            <template slot-scope=\"scope\">\r\n              {{ scope.row.useDimensionSizePercent }}%\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column\r\n            align=\"center\"\r\n            label=\"操作\">\r\n            <router-link to=\"cabinetDetail\"><van-button type=\"info\" size=\"small\">详情</van-button></router-link>\r\n          </el-table-column>\r\n        </fix-table>\r\n      </van-list>\r\n    </van-pull-refresh>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport FixTable from '@/components/FixTable'\r\nimport { getCabinet } from '@/api/table'\r\n\r\nvar initQuery = {\r\n  page: 1,\r\n  limit: 10\r\n}\r\n\r\nexport default {\r\n  components: {\r\n    FixTable\r\n  },\r\n  data() {\r\n    return {\r\n      cabinetVal: null, // 选择机房值\r\n      findStr: null, // 关键字\r\n      cabinetData: [\r\n      ],\r\n      listQuery: {\r\n        page: 1,\r\n        limit: 10\r\n      },\r\n      isLoading: false, // 刷新load status\r\n      listloading: false, // 上拉加载load status\r\n      finished: false,\r\n      showPicker: false,\r\n      columns: ['杭州', '宁波', '温州', '嘉兴', '湖州']\r\n    }\r\n  },\r\n  created() {\r\n    this.getlist()\r\n  },\r\n  mounted() {\r\n    // console.log(this.$refs.filter.clientHeight)\r\n  },\r\n  methods: {\r\n    onSearch() {},\r\n    getlist() {\r\n      getCabinet(initQuery).then(res => {\r\n        this.cabinetData = res.data.items\r\n        this.listQuery.page++\r\n      })\r\n    },\r\n    async onLoad() {\r\n      await getCabinet(this.listQuery).then(res => {\r\n        var result = this.cabinetData.concat(res.data.items)\r\n        this.cabinetData = result\r\n        this.listloading = false\r\n        if (res.data.items.length !== 0) {\r\n          this.listQuery.page++\r\n        } else {\r\n          this.finished = true\r\n        }\r\n      })\r\n    },\r\n    onConfirm(value) {\r\n      this.cabinetVal = value\r\n      this.showPicker = false\r\n    },\r\n    onRefresh() {\r\n      getCabinet(initQuery).then((res) => {\r\n        this.$toast('刷新成功')\r\n        this.isLoading = false\r\n        this.cabinetData = res.data.items\r\n        this.listQuery.page = 1\r\n        this.listQuery.page++\r\n        this.finished = false\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=a8f344e8&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import axios from 'axios'\r\nimport { Toast, Dialog } from 'vant'\r\n\r\n// create an axios instance\r\nconst mockService = axios.create({\r\n  baseURL: process.env.VUE_APP_BASE_API, // url = base url + request url\r\n  // withCredentials: true, // send cookies when cross-domain requests\r\n  timeout: 5000 // request timeout\r\n})\r\n\r\n// request interceptor\r\nmockService.interceptors.request.use(\r\n  config => {\r\n    // do something before request is sent\r\n\r\n    // if (store.getters.token) {\r\n    //   // let each request carry token\r\n    //   // ['X-Token'] is a custom headers key\r\n    //   // please modify it according to the actual situation\r\n    //   config.headers['X-Token'] = getToken()\r\n    // }\r\n    return config\r\n  },\r\n  error => {\r\n    // do something with request error\r\n    console.log(error) // for debug\r\n    return Promise.reject(error)\r\n  }\r\n)\r\n\r\n// response interceptor\r\nmockService.interceptors.response.use(\r\n  /**\r\n   * If you want to get http information such as headers or status\r\n   * Please return  response => response\r\n  */\r\n\r\n  /**\r\n   * Determine the request status by custom code\r\n   * Here is just an example\r\n   * You can also judge the status by HTTP Status Code\r\n   */\r\n  response => {\r\n    const res = response.data\r\n\r\n    // if the custom code is not 20000, it is judged as an error.\r\n    if (res.code !== 20000) {\r\n      Toast({\r\n        message: res.message || 'Error',\r\n        type: 'fail',\r\n        duration: 5 * 1000\r\n      })\r\n\r\n      // 50008: Illegal token; 50012: Other clients logged in; 50014: Token expired;\r\n      if (res.code === 50008 || res.code === 50012 || res.code === 50014) {\r\n        // to re-login\r\n        Dialog.confirm('You have been logged out, you can cancel to stay on this page, or log in again', 'Confirm logout', {\r\n          confirmButtonText: 'Re-Login',\r\n          cancelButtonText: 'Cancel',\r\n          type: 'warning'\r\n        }).then(() => {\r\n          location.reload()\r\n        })\r\n      }\r\n      return Promise.reject(new Error(res.message || 'Error'))\r\n    } else {\r\n      return res\r\n    }\r\n  },\r\n  error => {\r\n    console.log('err' + error) // for debug\r\n    Toast({\r\n      message: error.message,\r\n      type: 'error',\r\n      duration: 5 * 1000\r\n    })\r\n    return Promise.reject(error)\r\n  }\r\n)\r\n\r\nexport default mockService\r\n","import request from '@/utils/mockReq'\r\n\r\nexport function getList(query) {\r\n  return request({\r\n    url: '/table/list',\r\n    method: 'get',\r\n    params: query\r\n  })\r\n}\r\n\r\nexport function getDevice(query) {\r\n  return request({\r\n    url: '/table/device',\r\n    method: 'get',\r\n    params: query\r\n  })\r\n}\r\n\r\nexport function getCabinet(query) {\r\n  return request({\r\n    url: '/table/cabinet',\r\n    method: 'get',\r\n    params: query\r\n  })\r\n}\r\n\r\nexport function getLog(query) {\r\n  return request({\r\n    url: '/table/log',\r\n    method: 'get',\r\n    params: query\r\n  })\r\n}\r\n"],"sourceRoot":""}